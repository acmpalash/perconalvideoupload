{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Acm/Desktop/Udemy%20Project/Project/Next-js/videoupload/src/lib/mongodb.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nexport const connectDB = async () => {\r\n  if (mongoose.connections[0].readyState) return;\r\n\r\n  await mongoose.connect(process.env.MONGODB_URI);\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,YAAY;IACvB,IAAI,kLAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,UAAU,EAAE;IAExC,MAAM,kLAAQ,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,WAAW;AAChD"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Acm/Desktop/Udemy%20Project/Project/Next-js/videoupload/src/models/Admin.js"],"sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nconst AdminSchema = new mongoose.Schema(\r\n  {\r\n    passwordHash: { type: String, required: true },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nexport default mongoose.models.Admin || mongoose.model(\"Admin\", AdminSchema);\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,IAAI,kLAAQ,CAAC,MAAM,CACrC;IACE,cAAc;QAAE,MAAM;QAAQ,UAAU;IAAK;AAC/C,GACA;IAAE,YAAY;AAAK;uCAGN,kLAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,kLAAQ,CAAC,KAAK,CAAC,SAAS"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Acm/Desktop/Udemy%20Project/Project/Next-js/videoupload/src/app/api/admin/login/route.js"],"sourcesContent":["import { connectDB } from \"@/lib/mongodb\";\r\nimport Admin from \"@/models/Admin\";\r\nimport bcrypt from \"bcryptjs\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport const runtime = \"nodejs\";\r\n\r\nexport async function POST(req) {\r\n  try {\r\n    await connectDB();\r\n\r\n    const { password } = await req.json();\r\n\r\n    if (!password) {\r\n      return NextResponse.json(\r\n        { error: \"Password is required\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const admin = await Admin.findOne();\r\n\r\n    if (!admin) {\r\n      return NextResponse.json(\r\n        { error: \"Admin not setup yet\" },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    const ok = await bcrypt.compare(password, admin.passwordHash);\r\n\r\n    if (!ok) {\r\n      return NextResponse.json(\r\n        { error: \"Invalid password\" },\r\n        { status: 401 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json({ success: true });\r\n  } catch (err) {\r\n    console.error(\"ðŸ”¥ Admin login error:\", err);\r\n    return NextResponse.json(\r\n      { error: \"Login failed\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;;;;AAEO,MAAM,UAAU;AAEhB,eAAe,KAAK,GAAG;IAC5B,IAAI;QACF,MAAM,IAAA,mJAAS;QAEf,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAEnC,IAAI,CAAC,UAAU;YACb,OAAO,+JAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAuB,GAChC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,QAAQ,MAAM,kJAAK,CAAC,OAAO;QAEjC,IAAI,CAAC,OAAO;YACV,OAAO,+JAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAsB,GAC/B;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,KAAK,MAAM,6JAAM,CAAC,OAAO,CAAC,UAAU,MAAM,YAAY;QAE5D,IAAI,CAAC,IAAI;YACP,OAAO,+JAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAmB,GAC5B;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,+JAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,+JAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAe,GACxB;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}